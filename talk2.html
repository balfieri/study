<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Italian Phrases</title>
  </head>
  <body>
    <h1>Italian Phrases</h1>
    <pre id="phrase_en"></pre>
    <pre id="phrase_it"></pre>
    <button onclick="speakPhrase()">Speak</button>
    
    <script>
      const phrases = [
        [ "Hi!", "Ciao!" ],
        [ "How are you?", "Come stai?" ],
        [ "My name is Giovanni", "Mi chiamo Giovanni" ],
      ];
      
      function getRandomPhrase() {
        return phrases[Math.floor(Math.random() * phrases.length)];
      }
      
      function speakPhrase() {
          const phrase = getRandomPhrase();
          msg_en = new SpeechSynthesisUtterance(phrase[0]);
          msg_it = new SpeechSynthesisUtterance(phrase[1]);

          msg_en.lang = 'en-US';
          msg_it.lang = 'it-IT';

          msg_en.voice = window.speechSynthesis.getVoices().find(voice => voice.name === 'Samantha' );
          msg_it.voice = window.speechSynthesis.getVoices().find(voice => voice.name === 'Alice' );
          msg_it.onend = speakPhrase; // continue loop

          document.getElementById("phrase_en").textContent = phrase[0];
          document.getElementById("phrase_it").textContent = phrase[1];

          window.speechSynthesis.speak(msg_en);
          window.speechSynthesis.speak(msg_it);
      }
    </script>
  </body>
</html>

